[{"/home/deepanshu/ReactJS/whatsapp-clone/src/index.js":"1","/home/deepanshu/ReactJS/whatsapp-clone/src/App.js":"2","/home/deepanshu/ReactJS/whatsapp-clone/src/reportWebVitals.js":"3","/home/deepanshu/ReactJS/whatsapp-clone/src/Sidebar.js":"4","/home/deepanshu/ReactJS/whatsapp-clone/src/SidebarChat.js":"5","/home/deepanshu/ReactJS/whatsapp-clone/src/Chat.js":"6","/home/deepanshu/ReactJS/whatsapp-clone/src/firebase.js":"7","/home/deepanshu/ReactJS/whatsapp-clone/src/Login.js":"8","/home/deepanshu/ReactJS/whatsapp-clone/src/StateProvider.js":"9","/home/deepanshu/ReactJS/whatsapp-clone/src/reducer.js":"10"},{"size":691,"mtime":1609360444399,"results":"11","hashOfConfig":"12"},{"size":863,"mtime":1609360798801,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1609229101987,"results":"14","hashOfConfig":"12"},{"size":1906,"mtime":1609361200857,"results":"15","hashOfConfig":"12"},{"size":1535,"mtime":1609364218720,"results":"16","hashOfConfig":"12"},{"size":3403,"mtime":1609363529230,"results":"17","hashOfConfig":"12"},{"size":596,"mtime":1609241326229,"results":"18","hashOfConfig":"12"},{"size":1164,"mtime":1609361316114,"results":"19","hashOfConfig":"12"},{"size":371,"mtime":1609360097382,"results":"20","hashOfConfig":"12"},{"size":403,"mtime":1609360296311,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"7zjvz9",{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"24"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/home/deepanshu/ReactJS/whatsapp-clone/src/index.js",[],["48","49"],"/home/deepanshu/ReactJS/whatsapp-clone/src/App.js",["50","51"],"\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport Chat from './Chat';\nimport Sidebar from './Sidebar';\nimport { useState } from 'react'\nimport Login from './Login';\nimport { useStateValue } from './StateProvider';\n\nfunction App() {\n  const [{ user }, dispatch] = useStateValue();\n  return (\n    // BEM NAMING Convention\n    <div className=\"App\">\n      { !user ? (\n        <Login />\n      ) : (\n          <div className=\"app__body\">\n            <BrowserRouter>\n              <Sidebar />\n              <Switch>\n                <Route exact path=\"/\">\n                  <Chat />\n                </Route>\n                <Route path=\"/rooms/:roomId\">\n                  <Chat />\n                </Route>\n              </Switch>\n\n            </BrowserRouter>\n          </div>\n        )}\n\n    </div>\n  );\n}\n\nexport default App;\n","/home/deepanshu/ReactJS/whatsapp-clone/src/reportWebVitals.js",[],"/home/deepanshu/ReactJS/whatsapp-clone/src/Sidebar.js",["52"],"import { Avatar, IconButton } from '@material-ui/core'\nimport { Chat, DonutLarge, MoreVert, SearchOutlined } from '@material-ui/icons'\nimport \"./Sidebar.css\"\nimport React, { useState, useEffect } from 'react'\nimport SidebarChat from './SidebarChat'\nimport db from './firebase'\nimport { useStateValue } from './StateProvider'\n\nfunction Sidebar() {\n\n    const [rooms, setRooms] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n       const unsubscribe = db.collection('rooms').onSnapshot(snapshot => (\n           setRooms(snapshot.docs.map(doc => ({\n               id: doc.id,\n               data: doc.data(),\n           })))\n       ));\n       return () => {\n           unsubscribe();\n       }\n    }, [])\n\n    return (\n        <div className=\"sidebar\">\n            <div className=\"sidebar__header\">\n                <Avatar src={user?.photoURL}/>\n                <div className=\"sidebar__headerRight\">\n                    <IconButton>\n                        <DonutLarge />\n                    </IconButton>\n\n                    <IconButton>\n                        <Chat />\n                    </IconButton>\n\n                    <IconButton>\n                        <MoreVert />\n                    </IconButton>\n\n                </div>\n            </div>\n\n            <div className=\"sidebar__search\">\n                <div className=\"sidebar__searchContainer\">\n                    <SearchOutlined />\n                    <input placeholder=\"Search or start new chat\" type=\"text\" />\n                </div>\n            </div>\n\n            <div className=\"sidebar__chats\">\n                <SidebarChat addNewChat />\n                {\n                    rooms.map(room => (\n                        <SidebarChat key={room.id} id={room.id} name={room.data.name} />\n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Sidebar;\n","/home/deepanshu/ReactJS/whatsapp-clone/src/SidebarChat.js",[],"/home/deepanshu/ReactJS/whatsapp-clone/src/Chat.js",["53"],"import { Avatar, IconButton } from '@material-ui/core'\nimport { SearchOutlined, MoreVert, AttachFile, InsertEmoticon, Mic } from '@material-ui/icons';\nimport React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom';\nimport db from './firebase';\nimport \"./Chat.css\"\nimport { useStateValue } from './StateProvider';\nimport firebase from 'firebase';\n\nfunction Chat() {\n    const [seed, setSeed] = useState('');\n    const [input, setInput] = useState('');\n    let { roomId } = useParams();\n    const [roomName, setRoomName] = useState('');\n    const [messages, setMessages] = useState([]);\n    const [{ user }, dispatch] = useStateValue();\n\n    useEffect(() => {\n        setSeed(Math.random(0, 70));\n    }, [roomId])\n\n    useEffect(() => {\n        console.log('roomId');\n        if(roomId){\n            db.collection('rooms').doc(roomId).onSnapshot(snapshot => {\n                console.log(snapshot.data().name);\n                setRoomName(snapshot.data().name);\n            });\n\n            db.collection('rooms').doc(roomId).collection(\"messages\")\n              .orderBy('timestamp', 'asc').onSnapshot(snapshot => (\n                  setMessages(snapshot.docs.map(doc => (\n                      doc.data()\n                  )))\n              ))\n        }\n    }, [roomId])\n\n    \n\n    const sendMessage = (e) => {\n        e.preventDefault();\n        console.log(input);\n        db.collection('rooms').doc(roomId).collection('messages').add({\n            message: input,\n            name: user.displayName,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n        })\n        setInput(\"\");\n    }\n\n    return (\n        <div className=\"chat\">\n            <div className=\"chat__header\">\n                <Avatar src={`https://i.pravatar.cc/150?${seed}`} />\n\n                <div className=\"chat__headerInfo\">\n                    <h3>{roomName}</h3>\n                    <p>Last seen at { new Date(messages[messages.length - 1]?.timestamp?.toDate()).toUTCString() }</p>\n                </div>\n\n                <div className=\"chat__headerRight\">\n                    <IconButton>\n                        <SearchOutlined />\n                    </IconButton>\n\n                    <IconButton>\n                        <AttachFile />\n                    </IconButton>\n\n                    <IconButton>\n                        <MoreVert />\n                    </IconButton>\n                </div>\n            </div>\n\n            <div className=\"chat__body\">\n                {messages.map((message) => (\n                    <p className={`chat__message ${ message.name === user.displayName && 'chat__reciever' }`}>\n                    <span className=\"chat__name\">{message.name}</span>\n                    {message.message}\n                    <span className=\"chat__timestamp\">\n                        { new Date(message.timestamp?.toDate()).toUTCString() }\n                    </span>\n                </p>\n                ))}\n            </div>\n\n            <div className=\"chat__footer\">\n                <InsertEmoticon />\n                <form>\n                    <input type=\"text\" value={input} onChange={e => setInput(e.target.value)} placeholder=\"type a message\" />\n                    <button onClick={sendMessage} type=\"submit\">Send</button>\n                </form>\n                <Mic />\n            </div>\n        </div>\n    )\n}\n\nexport default Chat;\n","/home/deepanshu/ReactJS/whatsapp-clone/src/firebase.js",[],"/home/deepanshu/ReactJS/whatsapp-clone/src/Login.js",["54"],"import React from 'react'\nimport { Button } from '@material-ui/core'\nimport './Login.css'\nimport { auth, provider } from './firebase'\nimport { useStateValue } from './StateProvider';\nimport { actionTypes } from './reducer';\n\nfunction Login() {\n    const [{}, dispatch] = useStateValue();\n\n    const signIn = () => {\n        auth.signInWithPopup(provider).then((result) => {\n            console.log(result);\n            dispatch({\n                type: actionTypes.SET_USER,\n                user: result.user,\n            });\n        })\n        .catch(error => alert(error.message))\n    }\n    return (\n        <div className=\"login\">\n            <div className=\"login__container\">\n                <img \n                    src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/200px-WhatsApp.svg.png\"\n                    alt=\"logo\"\n                    draggable=\"false\"\n                />\n                <div className=\"login__text\">\n                    <h1>Sign in to WhatsApp</h1>\n                </div>\n\n                <Button onClick={signIn}>Sign In with Google</Button>\n            </div>\n        </div>\n    )\n}\n\nexport default Login;\n","/home/deepanshu/ReactJS/whatsapp-clone/src/StateProvider.js",["55"],"import React, { createContext, useContext, useReducer } from 'react';\n\nexport const StateContext = createContext();\n\nexport const StateProvider = ({ reducer, initialState, children }) => (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n);\n\nexport const useStateValue = () => useContext(StateContext);","/home/deepanshu/ReactJS/whatsapp-clone/src/reducer.js",[],{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","severity":1,"message":"61","line":6,"column":10,"nodeType":"62","messageId":"63","endLine":6,"endColumn":18},{"ruleId":"60","severity":1,"message":"64","line":11,"column":20,"nodeType":"62","messageId":"63","endLine":11,"endColumn":28},{"ruleId":"60","severity":1,"message":"64","line":12,"column":22,"nodeType":"62","messageId":"63","endLine":12,"endColumn":30},{"ruleId":"60","severity":1,"message":"64","line":16,"column":22,"nodeType":"62","messageId":"63","endLine":16,"endColumn":30},{"ruleId":"65","severity":1,"message":"66","line":9,"column":12,"nodeType":"67","messageId":"68","endLine":9,"endColumn":14},{"ruleId":"60","severity":1,"message":"69","line":1,"column":32,"nodeType":"62","messageId":"63","endLine":1,"endColumn":42},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","'useContext' is defined but never used.","no-global-assign","no-unsafe-negation"]